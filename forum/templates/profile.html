{% extends 'base.html' %}

{% block content %}
<h1>{{ profile.display_name|default:profile.user.username }}</h1>
<p>{{ profile.rendered_description|safe }}</p>
<a href="{% url 'edit_profile' %}">Edit Profile</a>

<h2>Posts</h2>
<ul>
    {% for post in posts %}
        {% include 'post_listing_block.html' %}
    {% endfor %}
</ul>

{% if user.is_authenticated and user == profile.user %}
<h2>Add a New Post</h2>
<form method="post">
    {% csrf_token %}
    {{ form.as_p }}
    <button type="submit">Add Post</button>
</form>
{% endif %}
{% endblock %}

